"use strict";require("dotenv").config();var clear=require("clear"),fs=require("fs"),path=require("path"),chalk=require("chalk"),_require=require("process"),exit=_require.exit,_require2=require("./helpers"),processArgv=_require2.processArgv;clear(),console.log(chalk.green.bold("[NodeMVC]: Generating new Controller..."));var options=processArgv(),Name=options.name,SubDir=options.subfolder?options.subfolder:"/",ModelNameArgv=Name?Name.charAt(0).toUpperCase()+Name.slice(1):process.argv.slice(2).toString().charAt(0).toUpperCase()+process.argv.slice(2).toString().slice(1);ModelNameArgv&&""!=ModelNameArgv||(console.log(chalk.red.bold("[NodeMVC]: Controller name required, run `yarn make:controller [CONTROLLER_NAME]`")),exit(0));var ModelName=ModelNameArgv.replace(/controller/ig,""),ControllerSubPath=path.join(__dirname,"../../../app/Http/Controllers",SubDir);fs.existsSync(ControllerSubPath)||fs.mkdirSync(ControllerSubPath);var ControllerPath=path.join(ControllerSubPath,"".concat(ModelName,".js")),ControllerTemplate=require("./templates/controllerOnly"),ControllerCode=ControllerTemplate.split("%__MODEL_NAME__%").join(ModelName).split("%__MODEL_MIN_NAME__%").join(ModelName.toLowerCase());fs.writeFileSync(ControllerPath,ControllerCode),console.log(chalk.green.bold("[NodeMVC]: Controller \"".concat(ModelName,"\" successfully created.")));